import './polyfills.server.mjs';
import{B,E as U,F as H,H as w,I as A,J as v,K as z,L,O as $,S as W,U as E,V as x,W as q,a as O,b as I,c as j,d as h,e as P,f as C,g as V,h as k,i as c,j as m,k as _,l as p,m as g,n as o,o as s,p as D,q as b,r as u,s as d,t as l,u as M,v as R,w as f}from"./chunk-JA5NAASH.mjs";import{a as G,b as T}from"./chunk-5XUXGTUW.mjs";var X=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275cmp=h({type:i,selectors:[["app-footer"]],standalone:!0,features:[f],decls:2,vars:0,consts:[[1,"footer"],["src","assets/logo.png",1,"logo"]],template:function(t,n){t&1&&(o(0,"div",0),D(1,"img",1),s())},styles:[".footer[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:absolute;left:0;bottom:0;width:100%;height:20vh;z-index:100}.logo[_ngcontent-%COMP%]{width:150px}"]})}return i})();var Y=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275cmp=h({type:i,selectors:[["app-root"]],standalone:!0,features:[f],decls:2,vars:0,template:function(t,n){t&1&&D(0,"router-outlet")(1,"app-footer")},dependencies:[q,W,v,X]})}return i})();var K=(()=>{class i{winner;replay=new k;onReplayClick(){this.replay.emit()}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=h({type:i,selectors:[["app-game-over-modal"]],inputs:{winner:"winner"},outputs:{replay:"replay"},standalone:!0,features:[f],decls:6,vars:1,consts:[[1,"modal"],[1,"modal-content"],[3,"click"]],template:function(t,n){t&1&&(o(0,"div",0)(1,"div",1)(2,"h2"),l(3),s(),o(4,"button",2),u("click",function(){return n.onReplayClick()}),l(5,"Replay"),s()()()),t&2&&(c(3),M(n.winner?n.winner+" wins !":"Draw !"))},dependencies:[v],styles:[".modal[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:fixed;top:0;left:0;width:100%;height:100vh;background-color:#00000080;z-index:1000}.modal-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-around;align-items:center;background-color:#fff;width:300px;height:150px;padding:20px;border-radius:5px;box-shadow:0 0 10px #010101;text-align:center}.modal-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:20px}.modal-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;background-color:#f05454;color:#fff;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.modal-content[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#f77b7b}"]})}return i})();var S=(()=>{class i{board=[];currentPlayer="X";initialPlayer="X";gameOver=!1;gridSize=3;initialized=!1;winner=null;winningLine=[];isAnimating=!1;newGame(e){this.gridSize=e,this.board=Array.from({length:this.gridSize},()=>Array.from({length:this.gridSize},()=>"")),this.gameOver=!1,this.initialized=!0,this.winner=null,this.isAnimating=!1,this.winningLine=[],this.currentPlayer=this.initialPlayer}makeMove(e,t){return this.board[e][t]===""&&!this.gameOver?(this.isAnimating=!0,this.board[e][t]=this.currentPlayer,this.checkWin()?setTimeout(()=>{this.gameOver=!0,this.isAnimating=!1,this.winner=this.currentPlayer},1500):this.isBoardFull()?setTimeout(()=>{this.gameOver=!0,this.isAnimating=!1,this.winner=null},1500):this.switchPlayer(),!0):!1}makeRandomMove(){let e=this.board.flatMap((t,n)=>t.map((a,F)=>a===""?[n,F]:null)).filter(Boolean);if(e.length>0){let[t,n]=e[Math.floor(Math.random()*e.length)];this.makeMove(t,n)}}isWinningCell(e,t){return this.winningLine.some(([n,a])=>n===e&&a===t)}isGameInitialized(){return this.initialized}getGridSize(){return this.gridSize}setPlayerType(e){this.initialPlayer=e,this.currentPlayer=e}setCurrentPlayer(e){this.currentPlayer=e}getCurrentPlayer(){return this.currentPlayer}getInitialPlayer(){return this.initialPlayer}getBoard(){return this.board}isGameOver(){return this.gameOver}getWinner(){return this.winner}isBoardFull(){return this.board.every(e=>e.every(t=>t!==""))}switchPlayer(){this.currentPlayer=this.currentPlayer==="X"?"O":"X"}checkWin(){let e=this.generateWinLines();for(let t of e)if(t.every(([n,a])=>this.board[n][a]===this.currentPlayer))return this.winningLine=t,!0;return!1}generateWinLines(){let e=[];for(let t=0;t<this.gridSize;t++)e.push(Array.from({length:this.gridSize},(n,a)=>[t,a])),e.push(Array.from({length:this.gridSize},(n,a)=>[a,t]));return e.push(Array.from({length:this.gridSize},(t,n)=>[n,n])),e.push(Array.from({length:this.gridSize},(t,n)=>[n,this.gridSize-1-n])),e}static \u0275fac=function(t){return new(t||i)};static \u0275prov=O({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function se(i,r){if(i&1){let e=b();o(0,"div",9),u("click",function(){let n=C(e).index,a=d().index,F=d();return V(F.onCellClick(a,n))}),o(1,"span"),l(2),s()()}if(i&2){let e=r.$implicit,t=r.index,n=d().index,a=d();g("winning-cell",a.gameService.isWinningCell(n,t)),c(),g("x",e==="X")("o",e==="O"),c(),M(e)}}function ae(i,r){if(i&1&&(o(0,"div",7),_(1,se,3,7,"div",8),s()),i&2){let e=r.$implicit;c(),p("ngForOf",e)}}function le(i,r){if(i&1){let e=b();o(0,"app-game-over-modal",10),u("replay",function(){C(e);let n=d();return V(n.onReplay())}),s()}if(i&2){let e=d();p("winner",e.gameService.getWinner())}}var Q=(()=>{class i{gameService;document;router;constructor(e,t,n){this.gameService=e,this.document=t,this.router=n}ngOnInit(){this.gameService.isGameInitialized()?this.updateGridStyles():this.router.navigate(["/setup"])}onCellClick(e,t){this.gameService.makeMove(e,t)&&this.makeComputerMove()}makeComputerMove(){!this.gameService.isGameOver()&&this.gameService.getCurrentPlayer()!==this.gameService.getInitialPlayer()&&(this.gameService.isAnimating?(this.gameService.isAnimating=!1,this.gameService.makeRandomMove()):this.gameService.makeRandomMove())}onReplay(){this.gameService.isAnimating=!1,this.gameService.winningLine=[],this.router.navigate(["/setup"])}updateGridStyles(){let t=this.gameService.getGridSize();t>4?this.document.documentElement.style.setProperty("--cell-size","80px"):this.document.documentElement.style.setProperty("--cell-size","100px"),this.document.documentElement.style.setProperty("--grid-size",t.toString())}static \u0275fac=function(t){return new(t||i)(m(S),m(H),m(E))};static \u0275cmp=h({type:i,selectors:[["app-game"]],standalone:!0,features:[f],decls:9,vars:2,consts:[[1,"container"],[1,"container-title"],[1,"title"],[1,"instruction"],[1,"board"],["class","row",4,"ngFor","ngForOf"],[3,"winner","replay",4,"ngIf"],[1,"row"],["class","cell",3,"winning-cell","click",4,"ngFor","ngForOf"],[1,"cell",3,"click"],[3,"replay","winner"]],template:function(t,n){t&1&&(o(0,"div",0)(1,"div",1)(2,"h1",2),l(3,"Tic Tac Toe"),s(),o(4,"h3",3),l(5,"Tape on a cell to make a move"),s()(),o(6,"div",4),_(7,ae,2,1,"div",5),s()(),_(8,le,1,1,"app-game-over-modal",6)),t&2&&(c(7),p("ngForOf",n.gameService.getBoard()),c(),p("ngIf",n.gameService.isGameOver()||n.gameService.isBoardFull()))},dependencies:[v,w,A,K],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;height:100vh;width:100%}.container-title[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;margin-bottom:20px;width:100vw}.title[_ngcontent-%COMP%]{color:#412888;font-size:3rem;font-weight:700}.instruction[_ngcontent-%COMP%]{color:#ffa086;font-size:1.5rem;font-weight:700}.board[_ngcontent-%COMP%]{display:grid;gap:5px;grid-template-columns:repeat(var(--grid-size),var(--cell-size));z-index:400}.cell[_ngcontent-%COMP%]{width:var(--cell-size);height:var(--cell-size);display:flex;margin:6px 8px;align-items:center;justify-content:center;background-color:#f1f1f1;font-size:44px;cursor:pointer;-webkit-user-select:none;user-select:none;border-radius:5px;box-shadow:0 0 10px #010101;transition:background-color .3s ease}.cell[_ngcontent-%COMP%]:hover{background-color:#ccc}.x[_ngcontent-%COMP%]{color:#f05454}.o[_ngcontent-%COMP%]{color:#70a1ff}.winning-cell[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_highlight 1s ease-in-out}@keyframes _ngcontent-%COMP%_highlight{0%{background-color:transparent}50%{background-color:#ffa086}to{background-color:transparent}}@media screen and (max-width: 700px){.board[_ngcontent-%COMP%]{grid-template-columns:repeat(var(--grid-size),70px)}.cell[_ngcontent-%COMP%]{width:60px;height:60px;font-size:30px}}"]})}return i})();var ce={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},ct=T(G({},ce),{"[class.ng-submitted]":"isSubmitted"});var ue=new j("CallSetDisabledState",{providedIn:"root",factory:()=>ee}),ee="always";var de=(()=>{let r=class r{};r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=P({type:r}),r.\u0275inj=I({});let i=r;return i})();var te=(()=>{let r=class r{static withConfig(t){return{ngModule:r,providers:[{provide:ue,useValue:t.callSetDisabledState??ee}]}}};r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=P({type:r}),r.\u0275inj=I({imports:[de]});let i=r;return i})();function he(i,r){i&1&&(o(0,"label",4),l(1,"Select Grid Size:"),s())}function fe(i,r){if(i&1){let e=b();o(0,"div",12),u("click",function(){let n=C(e).$implicit,a=d(2);return V(a.selectGridSize(n))}),l(1),s()}if(i&2){let e=r.$implicit,t=d(2);g("selected",t.gridSize===e),c(),R(" ",e,"x",e," ")}}function pe(i,r){if(i&1&&(o(0,"div",10),_(1,fe,2,4,"div",11),s()),i&2){let e=d();c(),p("ngForOf",e.gridSizes)}}var ie=(()=>{class i{router;gameService;playerType="X";gridSize=3;gridSizes=[3];constructor(e,t){this.router=e,this.gameService=t}startGame(){this.gameService.setPlayerType(this.playerType),this.gameService.newGame(this.gridSize),this.router.navigate(["/game"]).then(()=>{this.playerType==="O"&&(this.gameService.setCurrentPlayer("X"),this.gameService.makeRandomMove(),this.gameService.setCurrentPlayer("O"))})}selectPlayerType(e){this.playerType=e}selectGridSize(e){this.gridSize=e}static \u0275fac=function(t){return new(t||i)(m(E),m(S))};static \u0275cmp=h({type:i,selectors:[["app-game-setup"]],standalone:!0,features:[f],decls:18,vars:6,consts:[[1,"container"],[1,"container-content"],[1,"title"],[1,"s-title"],[1,"section-label"],[1,"radio-container"],[1,"radio-card",3,"click"],["class","section-label",4,"ngIf"],["class","carousel-container",4,"ngIf"],[3,"click"],[1,"carousel-container"],["class","carousel-item",3,"selected","click",4,"ngFor","ngForOf"],[1,"carousel-item",3,"click"]],template:function(t,n){t&1&&(o(0,"div",0)(1,"div",1)(2,"h1",2),l(3,"Setup "),o(4,"span",3),l(5,"TIC"),s(),l(6," Tac Toe"),s(),o(7,"label",4),l(8,"Select Player Type:"),s(),o(9,"div",5)(10,"div",6),u("click",function(){return n.selectPlayerType("X")}),l(11," X "),s(),o(12,"div",6),u("click",function(){return n.selectPlayerType("O")}),l(13," O "),s()(),_(14,he,2,0,"label",7)(15,pe,2,1,"div",8),o(16,"button",9),u("click",function(){return n.startGame()}),l(17,"Start Game"),s()()()),t&2&&(c(10),g("selected",n.playerType==="X"),c(2),g("selected",n.playerType==="O"),c(2),p("ngIf",n.gridSizes.length>1),c(),p("ngIf",n.gridSizes.length>1))},dependencies:[v,w,A,te],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;width:100vw}.container-content[_ngcontent-%COMP%]{display:flex;min-width:50%;min-height:50%;flex-direction:column;align-items:center;justify-content:space-around;background-color:#f1f1f1;padding:20px;border-radius:10px;box-shadow:0 0 10px #010101}.title[_ngcontent-%COMP%]{color:#412888;font-size:2rem;font-weight:700}.s-title[_ngcontent-%COMP%]{color:#ffa086}.section-label[_ngcontent-%COMP%]{font-size:1.2rem;color:#333}.radio-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100px}.radio-card[_ngcontent-%COMP%]{width:40px;height:40px;line-height:40px;text-align:center;border-radius:5px;background-color:#7ccad7;color:#fff;cursor:pointer;transition:background-color .3s ease}.radio-card[_ngcontent-%COMP%]:hover{background-color:#5cb1b6}.radio-card.selected[_ngcontent-%COMP%]{background-color:#412888}.radio-card.selected[_ngcontent-%COMP%]:hover{background-color:#2d1f5f}.carousel-container[_ngcontent-%COMP%]{display:flex;overflow-x:auto;scroll-snap-type:x mandatory;-webkit-overflow-scrolling:touch;white-space:nowrap}.carousel-item[_ngcontent-%COMP%]{flex:0 0 auto;width:100px;height:50px;line-height:50px;text-align:center;border-radius:5px;background-color:#ffa086;color:#fff;margin-right:10px;cursor:pointer;transition:background-color .3s ease;scroll-snap-align:start}.carousel-item[_ngcontent-%COMP%]:hover{background-color:#c67863}.carousel-item.selected[_ngcontent-%COMP%]{background-color:#c97c66}.carousel-item.selected[_ngcontent-%COMP%]:hover{background-color:#ab6856}button[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:5px;background:#1c1258;color:#fff;cursor:pointer;transition:.3s}button[_ngcontent-%COMP%]:hover{background:#120c3a}@media screen and (max-width: 768px){.container-content[_ngcontent-%COMP%]{min-width:80%}.radio-container[_ngcontent-%COMP%]{width:80px}.radio-card[_ngcontent-%COMP%]{width:30px;height:30px;line-height:30px}.carousel-item[_ngcontent-%COMP%]{width:80px;height:40px;line-height:40px;margin-right:5px}}"]})}return i})();var N=[{path:"",redirectTo:"/setup",pathMatch:"full"},{path:"setup",component:ie},{path:"game",component:Q}],_t=[x(N)];var ne={providers:[B({eventCoalescing:!0}),x(N),L()]};var me={providers:[$()]},re=U(ne,me);var ge=()=>z(Y,re),It=ge;export{It as a};
